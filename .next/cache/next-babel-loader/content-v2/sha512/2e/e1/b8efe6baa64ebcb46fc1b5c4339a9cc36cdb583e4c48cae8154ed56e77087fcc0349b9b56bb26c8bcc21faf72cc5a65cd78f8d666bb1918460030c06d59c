{"ast":null,"code":"var _jsxFileName = \"/home/suveshmoza/Stuff/Projects/kickstart/pages/campaigns/requests/new.js\";\nvar __jsx = React.createElement;\n// continue from 201\nimport React, { useState } from \"react\";\nimport { Form, Button, Message, Input } from \"semantic-ui-react\";\nimport Campaign from \"../../../ethereum/campaign\";\nimport web3 from \"../../../ethereum/web3\";\nimport { Link, Router } from \"../../../routes\";\nimport Layout from \"../../../components/Layout\";\n\nconst RequestNew = ({\n  address\n}) => {\n  const {\n    0: value,\n    1: setValue\n  } = useState(\"\");\n  const {\n    0: description,\n    1: setDescription\n  } = useState(\"\");\n  const {\n    0: recipient,\n    1: setRecipient\n  } = useState(\"\");\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: errorMsg,\n    1: setErrorMsg\n  } = useState(\"\");\n\n  const onSubmit = async event => {\n    event.preventDefault();\n    const campaign = Campaign(address);\n    setLoading(true);\n    setErrorMsg(\"\");\n\n    try {\n      const accounts = await web3.eth.getAccounts();\n      await campaign.methods.createRequest(description, web3.utils.toWei(value, \"ether\"), recipient).send({\n        from: accounts[0]\n      });\n      Router.pushRoute(`/campaigns/${address}/requests`);\n    } catch (err) {\n      setErrorMsg(err.message);\n    }\n\n    setLoading(false);\n  };\n\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 3\n    }\n  }, __jsx(Link, {\n    route: `/campaigns/${address}/requests`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 4\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, \"Back\")), __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }\n  }, \"Create a Request\"), __jsx(Form, {\n    error: !!errorMsg,\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 4\n    }\n  }, __jsx(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, __jsx(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 6\n    }\n  }, \"Description\"), __jsx(Input, {\n    value: description,\n    onChange: e => {\n      setDescription(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 6\n    }\n  })), __jsx(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, __jsx(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 6\n    }\n  }, \"Value in Ether\"), __jsx(Input, {\n    value: value,\n    onChange: e => {\n      setValue(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 6\n    }\n  })), __jsx(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, __jsx(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 6\n    }\n  }, \"Recipient\"), __jsx(Input, {\n    value: recipient,\n    onChange: e => {\n      setRecipient(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 6\n    }\n  })), __jsx(Message, {\n    error: true,\n    header: \"OOPS!\",\n    content: errorMsg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }), __jsx(Button, {\n    primary: true,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, \"Create!\")));\n};\n\nRequestNew.getInitialProps = props => {\n  const {\n    address\n  } = props.query;\n  return {\n    address\n  };\n};\n\nexport default RequestNew;","map":{"version":3,"sources":["/home/suveshmoza/Stuff/Projects/kickstart/pages/campaigns/requests/new.js"],"names":["React","useState","Form","Button","Message","Input","Campaign","web3","Link","Router","Layout","RequestNew","address","value","setValue","description","setDescription","recipient","setRecipient","loading","setLoading","errorMsg","setErrorMsg","onSubmit","event","preventDefault","campaign","accounts","eth","getAccounts","methods","createRequest","utils","toWei","send","from","pushRoute","err","message","e","target","getInitialProps","props","query"],"mappings":";;AAAA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,OAAvB,EAAgCC,KAAhC,QAA6C,mBAA7C;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,iBAA7B;AACA,OAAOC,MAAP,MAAmB,4BAAnB;;AAEA,MAAMC,UAAU,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAiB;AACnC,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBb,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACc,WAAD;AAAA,OAAcC;AAAd,MAAgCf,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM;AAAA,OAACgB,SAAD;AAAA,OAAYC;AAAZ,MAA4BjB,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM;AAAA,OAACkB,OAAD;AAAA,OAAUC;AAAV,MAAwBnB,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM;AAAA,OAACoB,QAAD;AAAA,OAAWC;AAAX,MAA0BrB,QAAQ,CAAC,EAAD,CAAxC;;AAEA,QAAMsB,QAAQ,GAAG,MAAOC,KAAP,IAAiB;AACjCA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,QAAQ,GAAGpB,QAAQ,CAACM,OAAD,CAAzB;AACAQ,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAE,IAAAA,WAAW,CAAC,EAAD,CAAX;;AACA,QAAI;AACH,YAAMK,QAAQ,GAAG,MAAMpB,IAAI,CAACqB,GAAL,CAASC,WAAT,EAAvB;AACA,YAAMH,QAAQ,CAACI,OAAT,CACJC,aADI,CACUhB,WADV,EACuBR,IAAI,CAACyB,KAAL,CAAWC,KAAX,CAAiBpB,KAAjB,EAAwB,OAAxB,CADvB,EACyDI,SADzD,EAEJiB,IAFI,CAEC;AAAEC,QAAAA,IAAI,EAAER,QAAQ,CAAC,CAAD;AAAhB,OAFD,CAAN;AAGAlB,MAAAA,MAAM,CAAC2B,SAAP,CAAkB,cAAaxB,OAAQ,WAAvC;AACA,KAND,CAME,OAAOyB,GAAP,EAAY;AACbf,MAAAA,WAAW,CAACe,GAAG,CAACC,OAAL,CAAX;AACA;;AACDlB,IAAAA,UAAU,CAAC,KAAD,CAAV;AACA,GAfD;;AAiBA,SACC,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,IAAD;AAAM,IAAA,KAAK,EAAG,cAAaR,OAAQ,WAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,CADD,EAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJD,EAKC,MAAC,IAAD;AAAM,IAAA,KAAK,EAAE,CAAC,CAACS,QAAf;AAAyB,IAAA,QAAQ,EAAEE,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADD,EAEC,MAAC,KAAD;AACC,IAAA,KAAK,EAAER,WADR;AAEC,IAAA,QAAQ,EAAGwB,CAAD,IAAO;AAChBvB,MAAAA,cAAc,CAACuB,CAAC,CAACC,MAAF,CAAS3B,KAAV,CAAd;AACA,KAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,CADD,EAUC,MAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,EAEC,MAAC,KAAD;AACC,IAAA,KAAK,EAAEA,KADR;AAEC,IAAA,QAAQ,EAAG0B,CAAD,IAAO;AAChBzB,MAAAA,QAAQ,CAACyB,CAAC,CAACC,MAAF,CAAS3B,KAAV,CAAR;AACA,KAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,CAVD,EAmBC,MAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADD,EAEC,MAAC,KAAD;AACC,IAAA,KAAK,EAAEI,SADR;AAEC,IAAA,QAAQ,EAAGsB,CAAD,IAAO;AAChBrB,MAAAA,YAAY,CAACqB,CAAC,CAACC,MAAF,CAAS3B,KAAV,CAAZ;AACA,KAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,CAnBD,EA4BC,MAAC,OAAD;AAAS,IAAA,KAAK,MAAd;AAAe,IAAA,MAAM,EAAC,OAAtB;AAA8B,IAAA,OAAO,EAAEQ,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5BD,EA6BC,MAAC,MAAD;AAAQ,IAAA,OAAO,MAAf;AAAgB,IAAA,OAAO,EAAEF,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eA7BD,CALD,CADD;AAyCA,CAjED;;AAmEAR,UAAU,CAAC8B,eAAX,GAA8BC,KAAD,IAAW;AACvC,QAAM;AAAE9B,IAAAA;AAAF,MAAc8B,KAAK,CAACC,KAA1B;AACA,SAAO;AAAE/B,IAAAA;AAAF,GAAP;AACA,CAHD;;AAKA,eAAeD,UAAf","sourcesContent":["// continue from 201\nimport React, { useState } from \"react\";\nimport { Form, Button, Message, Input } from \"semantic-ui-react\";\nimport Campaign from \"../../../ethereum/campaign\";\nimport web3 from \"../../../ethereum/web3\";\nimport { Link, Router } from \"../../../routes\";\nimport Layout from \"../../../components/Layout\";\n\nconst RequestNew = ({ address }) => {\n\tconst [value, setValue] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\tconst [recipient, setRecipient] = useState(\"\");\n\tconst [loading, setLoading] = useState(false);\n\tconst [errorMsg, setErrorMsg] = useState(\"\");\n\n\tconst onSubmit = async (event) => {\n\t\tevent.preventDefault();\n\t\tconst campaign = Campaign(address);\n\t\tsetLoading(true);\n\t\tsetErrorMsg(\"\");\n\t\ttry {\n\t\t\tconst accounts = await web3.eth.getAccounts();\n\t\t\tawait campaign.methods\n\t\t\t\t.createRequest(description, web3.utils.toWei(value, \"ether\"), recipient)\n\t\t\t\t.send({ from: accounts[0] });\n\t\t\tRouter.pushRoute(`/campaigns/${address}/requests`);\n\t\t} catch (err) {\n\t\t\tsetErrorMsg(err.message);\n\t\t}\n\t\tsetLoading(false);\n\t};\n\n\treturn (\n\t\t<Layout>\n\t\t\t<Link route={`/campaigns/${address}/requests`}>\n\t\t\t\t<a>Back</a>\n\t\t\t</Link>\n\t\t\t<h3>Create a Request</h3>\n\t\t\t<Form error={!!errorMsg} onSubmit={onSubmit}>\n\t\t\t\t<Form.Field>\n\t\t\t\t\t<label>Description</label>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetDescription(e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Field>\n\t\t\t\t<Form.Field>\n\t\t\t\t\t<label>Value in Ether</label>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetValue(e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Field>\n\t\t\t\t<Form.Field>\n\t\t\t\t\t<label>Recipient</label>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tvalue={recipient}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetRecipient(e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Field>\n\t\t\t\t<Message error header=\"OOPS!\" content={errorMsg} />\n\t\t\t\t<Button primary loading={loading}>\n\t\t\t\t\tCreate!\n\t\t\t\t</Button>\n\t\t\t</Form>\n\t\t</Layout>\n\t);\n};\n\nRequestNew.getInitialProps = (props) => {\n\tconst { address } = props.query;\n\treturn { address };\n};\n\nexport default RequestNew;\n"]},"metadata":{},"sourceType":"module"}