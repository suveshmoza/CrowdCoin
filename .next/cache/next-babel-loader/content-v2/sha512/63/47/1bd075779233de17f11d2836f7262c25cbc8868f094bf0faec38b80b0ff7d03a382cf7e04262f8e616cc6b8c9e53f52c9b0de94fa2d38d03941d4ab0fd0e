{"ast":null,"code":"var _jsxFileName = \"/home/suveshmoza/Stuff/Projects/kickstart/components/ContributeForm.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { Form, Input, Message, Button } from \"semantic-ui-react\";\nimport Campaign from \"../ethereum/campaign\";\nimport web3 from \"../ethereum/web3\";\nimport { Router } from \"../routes\";\n\nconst ContributeForm = ({\n  address\n}) => {\n  const {\n    0: value,\n    1: setValue\n  } = useState(\"\");\n  const {\n    0: errorMsg,\n    1: setErrorMsg\n  } = useState(\"\");\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  const onSubmit = async event => {\n    event.preventDefault();\n    setLoading(true);\n    const campaign = Campaign(address);\n\n    try {\n      const accounts = await web3.eth.getAccounts();\n      await campaign.methods.contribute().send({\n        from: accounts[0],\n        value: web3.utils.toWei(value, \"ether\")\n      });\n      Router.replaceRoute(`/campaigns/${address}`);\n    } catch (err) {\n      setErrorMsg(err.message);\n    }\n\n    setLoading(false), setValue(\"\");\n  };\n\n  return __jsx(Form, {\n    onSubmit: onSubmit,\n    error: !!errorMsg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 3\n    }\n  }, __jsx(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 4\n    }\n  }, __jsx(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, \"Amount to Contribute\"), __jsx(Input, {\n    value: value,\n    onChange: event => setValue(event.target.value),\n    label: \"ether\",\n    labelPosition: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }), __jsx(Message, {\n    error: true,\n    header: \"OOPS!\",\n    content: errorMsg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  })), __jsx(Button, {\n    primary: true,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }\n  }, \"Contribute!\"));\n};\n\nexport default ContributeForm;","map":{"version":3,"sources":["/home/suveshmoza/Stuff/Projects/kickstart/components/ContributeForm.js"],"names":["React","useState","Form","Input","Message","Button","Campaign","web3","Router","ContributeForm","address","value","setValue","errorMsg","setErrorMsg","loading","setLoading","onSubmit","event","preventDefault","campaign","accounts","eth","getAccounts","methods","contribute","send","from","utils","toWei","replaceRoute","err","message","target"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,OAAtB,EAA+BC,MAA/B,QAA6C,mBAA7C;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,SAASC,MAAT,QAAuB,WAAvB;;AAEA,MAAMC,cAAc,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAiB;AACvC,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBX,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACY,QAAD;AAAA,OAAWC;AAAX,MAA0Bb,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM;AAAA,OAACc,OAAD;AAAA,OAAUC;AAAV,MAAwBf,QAAQ,CAAC,KAAD,CAAtC;;AAEA,QAAMgB,QAAQ,GAAG,MAAOC,KAAP,IAAiB;AACjCA,IAAAA,KAAK,CAACC,cAAN;AACAH,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,UAAMI,QAAQ,GAAGd,QAAQ,CAACI,OAAD,CAAzB;;AACA,QAAI;AACH,YAAMW,QAAQ,GAAG,MAAMd,IAAI,CAACe,GAAL,CAASC,WAAT,EAAvB;AACA,YAAMH,QAAQ,CAACI,OAAT,CAAiBC,UAAjB,GAA8BC,IAA9B,CAAmC;AACxCC,QAAAA,IAAI,EAAEN,QAAQ,CAAC,CAAD,CAD0B;AAExCV,QAAAA,KAAK,EAAEJ,IAAI,CAACqB,KAAL,CAAWC,KAAX,CAAiBlB,KAAjB,EAAwB,OAAxB;AAFiC,OAAnC,CAAN;AAIAH,MAAAA,MAAM,CAACsB,YAAP,CAAqB,cAAapB,OAAQ,EAA1C;AACA,KAPD,CAOE,OAAOqB,GAAP,EAAY;AACbjB,MAAAA,WAAW,CAACiB,GAAG,CAACC,OAAL,CAAX;AACA;;AACDhB,IAAAA,UAAU,CAAC,KAAD,CAAV,EAAmBJ,QAAQ,CAAC,EAAD,CAA3B;AACA,GAfD;;AAiBA,SACC,MAAC,IAAD;AAAM,IAAA,QAAQ,EAAEK,QAAhB;AAA0B,IAAA,KAAK,EAAE,CAAC,CAACJ,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADD,EAEC,MAAC,KAAD;AACC,IAAA,KAAK,EAAEF,KADR;AAEC,IAAA,QAAQ,EAAGO,KAAD,IAAWN,QAAQ,CAACM,KAAK,CAACe,MAAN,CAAatB,KAAd,CAF9B;AAGC,IAAA,KAAK,EAAC,OAHP;AAIC,IAAA,aAAa,EAAC,OAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,EAQC,MAAC,OAAD;AAAS,IAAA,KAAK,MAAd;AAAe,IAAA,MAAM,EAAC,OAAtB;AAA8B,IAAA,OAAO,EAAEE,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARD,CADD,EAWC,MAAC,MAAD;AAAQ,IAAA,OAAO,MAAf;AAAgB,IAAA,OAAO,EAAEE,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAXD,CADD;AAiBA,CAvCD;;AAwCA,eAAeN,cAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Input, Message, Button } from \"semantic-ui-react\";\nimport Campaign from \"../ethereum/campaign\";\nimport web3 from \"../ethereum/web3\";\nimport { Router } from \"../routes\";\n\nconst ContributeForm = ({ address }) => {\n\tconst [value, setValue] = useState(\"\");\n\tconst [errorMsg, setErrorMsg] = useState(\"\");\n\tconst [loading, setLoading] = useState(false);\n\n\tconst onSubmit = async (event) => {\n\t\tevent.preventDefault();\n\t\tsetLoading(true);\n\t\tconst campaign = Campaign(address);\n\t\ttry {\n\t\t\tconst accounts = await web3.eth.getAccounts();\n\t\t\tawait campaign.methods.contribute().send({\n\t\t\t\tfrom: accounts[0],\n\t\t\t\tvalue: web3.utils.toWei(value, \"ether\"),\n\t\t\t});\n\t\t\tRouter.replaceRoute(`/campaigns/${address}`);\n\t\t} catch (err) {\n\t\t\tsetErrorMsg(err.message);\n\t\t}\n\t\tsetLoading(false), setValue(\"\");\n\t};\n\n\treturn (\n\t\t<Form onSubmit={onSubmit} error={!!errorMsg}>\n\t\t\t<Form.Field>\n\t\t\t\t<label>Amount to Contribute</label>\n\t\t\t\t<Input\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={(event) => setValue(event.target.value)}\n\t\t\t\t\tlabel=\"ether\"\n\t\t\t\t\tlabelPosition=\"right\"\n\t\t\t\t/>\n\t\t\t\t<Message error header=\"OOPS!\" content={errorMsg} />\n\t\t\t</Form.Field>\n\t\t\t<Button primary loading={loading}>\n\t\t\t\tContribute!\n\t\t\t</Button>\n\t\t</Form>\n\t);\n};\nexport default ContributeForm;\n"]},"metadata":{},"sourceType":"module"}