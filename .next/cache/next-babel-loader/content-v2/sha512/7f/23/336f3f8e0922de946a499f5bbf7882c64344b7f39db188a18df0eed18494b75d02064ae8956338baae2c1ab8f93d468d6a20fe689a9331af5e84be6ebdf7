{"ast":null,"code":"import _regeneratorRuntime from \"/home/suveshmoza/Stuff/Projects/kickstart/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/suveshmoza/Stuff/Projects/kickstart/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/home/suveshmoza/Stuff/Projects/kickstart/pages/campaigns/new.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { Form, Button, Input, Message } from \"semantic-ui-react\";\nimport Layout from \"../../components/Layout\";\nimport factory from \"../../ethereum/factory\";\nimport web3 from \"../../ethereum/web3\";\nimport { Router } from \"../../routes\";\n\nvar CampaignNew = function CampaignNew() {\n  _s();\n\n  var _useState = useState(\"\"),\n      minimumContribution = _useState[0],\n      setMinimumContribution = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      errorMsg = _useState2[0],\n      setErrorMsg = _useState2[1];\n\n  var _useState3 = useState(false),\n      loading = _useState3[0],\n      setLoading = _useState3[1];\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var accounts;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              setLoading(true), setErrorMsg(\"\");\n              _context.prev = 2;\n              _context.next = 5;\n              return web3.eth.getAccounts();\n\n            case 5:\n              accounts = _context.sent;\n              _context.next = 8;\n              return factory.methods.createCampaign(minimumContribution).send({\n                from: accounts[0]\n              });\n\n            case 8:\n              Router.pushRoute(\"/\");\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](2);\n              setErrorMsg(_context.t0.message);\n\n            case 14:\n              setLoading(false);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 11]]);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 3\n    }\n  }, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 4\n    }\n  }, \"Create a Campaign\"), __jsx(Form, {\n    onSubmit: onSubmit,\n    error: !!errorMsg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 4\n    }\n  }, __jsx(Form.Field, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, __jsx(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 6\n    }\n  }, \"Minimum Contribution\"), __jsx(Input, {\n    labelPosition: \"right\",\n    label: \"wei\",\n    value: minimumContribution,\n    onChange: function onChange(event) {\n      return setMinimumContribution(event.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 6\n    }\n  }), __jsx(Message, {\n    error: true,\n    header: \"OOPS!\",\n    content: errorMsg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 6\n    }\n  })), __jsx(Button, {\n    primary: true,\n    loading: loading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, \"Create\")));\n};\n\n_s(CampaignNew, \"0EZUvT7vCGDwnqaZNSFWA0lKthM=\");\n\n_c = CampaignNew;\nexport default CampaignNew;\n\nvar _c;\n\n$RefreshReg$(_c, \"CampaignNew\");","map":{"version":3,"sources":["/home/suveshmoza/Stuff/Projects/kickstart/pages/campaigns/new.js"],"names":["React","useState","Form","Button","Input","Message","Layout","factory","web3","Router","CampaignNew","minimumContribution","setMinimumContribution","errorMsg","setErrorMsg","loading","setLoading","onSubmit","event","preventDefault","eth","getAccounts","accounts","methods","createCampaign","send","from","pushRoute","message","target","value"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,OAA9B,QAA6C,mBAA7C;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AACA,SAASC,MAAT,QAAuB,cAAvB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AAAA;;AAAA,kBAC6BT,QAAQ,CAAC,EAAD,CADrC;AAAA,MAClBU,mBADkB;AAAA,MACGC,sBADH;;AAAA,mBAEOX,QAAQ,CAAC,EAAD,CAFf;AAAA,MAElBY,QAFkB;AAAA,MAERC,WAFQ;;AAAA,mBAGKb,QAAQ,CAAC,KAAD,CAHb;AAAA,MAGlBc,OAHkB;AAAA,MAGTC,UAHS;;AAKzB,MAAMC,QAAQ;AAAA,wEAAG,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBA,cAAAA,KAAK,CAACC,cAAN;AACAH,cAAAA,UAAU,CAAC,IAAD,CAAV,EAAkBF,WAAW,CAAC,EAAD,CAA7B;AAFgB;AAAA;AAAA,qBAIQN,IAAI,CAACY,GAAL,CAASC,WAAT,EAJR;;AAAA;AAITC,cAAAA,QAJS;AAAA;AAAA,qBAKTf,OAAO,CAACgB,OAAR,CAAgBC,cAAhB,CAA+Bb,mBAA/B,EAAoDc,IAApD,CAAyD;AAC9DC,gBAAAA,IAAI,EAAEJ,QAAQ,CAAC,CAAD;AADgD,eAAzD,CALS;;AAAA;AAQfb,cAAAA,MAAM,CAACkB,SAAP,CAAiB,GAAjB;AARe;AAAA;;AAAA;AAAA;AAAA;AAUfb,cAAAA,WAAW,CAAC,YAAIc,OAAL,CAAX;;AAVe;AAYhBZ,cAAAA,UAAU,CAAC,KAAD,CAAV;;AAZgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARC,QAAQ;AAAA;AAAA;AAAA,KAAd;;AAeA,SACC,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADD,EAEC,MAAC,IAAD;AAAM,IAAA,QAAQ,EAAEA,QAAhB;AAA0B,IAAA,KAAK,EAAE,CAAC,CAACJ,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADD,EAEC,MAAC,KAAD;AACC,IAAA,aAAa,EAAC,OADf;AAEC,IAAA,KAAK,EAAC,KAFP;AAGC,IAAA,KAAK,EAAEF,mBAHR;AAIC,IAAA,QAAQ,EAAE,kBAACO,KAAD;AAAA,aAAWN,sBAAsB,CAACM,KAAK,CAACW,MAAN,CAAaC,KAAd,CAAjC;AAAA,KAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,EAQC,MAAC,OAAD;AAAS,IAAA,KAAK,MAAd;AAAe,IAAA,MAAM,EAAC,OAAtB;AAA8B,IAAA,OAAO,EAAEjB,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARD,CADD,EAWC,MAAC,MAAD;AAAQ,IAAA,OAAO,MAAf;AAAgB,IAAA,OAAO,EAAEE,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXD,CAFD,CADD;AAoBA,CAxCD;;GAAML,W;;KAAAA,W;AA0CN,eAAeA,WAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Button, Input, Message } from \"semantic-ui-react\";\nimport Layout from \"../../components/Layout\";\nimport factory from \"../../ethereum/factory\";\nimport web3 from \"../../ethereum/web3\";\nimport { Router } from \"../../routes\";\n\nconst CampaignNew = () => {\n\tconst [minimumContribution, setMinimumContribution] = useState(\"\");\n\tconst [errorMsg, setErrorMsg] = useState(\"\");\n\tconst [loading, setLoading] = useState(false);\n\n\tconst onSubmit = async (event) => {\n\t\tevent.preventDefault();\n\t\tsetLoading(true), setErrorMsg(\"\");\n\t\ttry {\n\t\t\tconst accounts = await web3.eth.getAccounts();\n\t\t\tawait factory.methods.createCampaign(minimumContribution).send({\n\t\t\t\tfrom: accounts[0],\n\t\t\t});\n\t\t\tRouter.pushRoute(\"/\");\n\t\t} catch (err) {\n\t\t\tsetErrorMsg(err.message);\n\t\t}\n\t\tsetLoading(false);\n\t};\n\n\treturn (\n\t\t<Layout>\n\t\t\t<h3>Create a Campaign</h3>\n\t\t\t<Form onSubmit={onSubmit} error={!!errorMsg}>\n\t\t\t\t<Form.Field>\n\t\t\t\t\t<label>Minimum Contribution</label>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tlabelPosition=\"right\"\n\t\t\t\t\t\tlabel=\"wei\"\n\t\t\t\t\t\tvalue={minimumContribution}\n\t\t\t\t\t\tonChange={(event) => setMinimumContribution(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Message error header=\"OOPS!\" content={errorMsg} />\n\t\t\t\t</Form.Field>\n\t\t\t\t<Button primary loading={loading}>\n\t\t\t\t\tCreate\n\t\t\t\t</Button>\n\t\t\t</Form>\n\t\t</Layout>\n\t);\n};\n\nexport default CampaignNew;\n"]},"metadata":{},"sourceType":"module"}