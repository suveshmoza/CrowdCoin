{"ast":null,"code":"var _jsxFileName = \"/home/suveshmoza/Stuff/Projects/kickstart/components/RequestRow.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport { Table, Button } from \"semantic-ui-react\";\nimport web3 from \"../ethereum/web3\";\nimport Campaign from \"../ethereum/campaign\";\n\nconst RequestRow = ({\n  address,\n  id,\n  request,\n  approversCount\n}) => {\n  const {\n    Row,\n    Cell\n  } = Table;\n\n  const onApprove = async () => {\n    const campaign = Campaign(address);\n    const accounts = await web3.eth.getAccounts();\n    await campaign.methods.approveRequest(id).send({\n      from: accounts[0]\n    });\n  };\n\n  const onFinalize = async () => {\n    const campaign = Campaign(address);\n    const accounts = await web3.eth.getAccounts();\n    await campaign.methods.finalizeRequest(id).send({\n      from: accounts[0]\n    });\n  };\n\n  const readyToFinalize = request.approvalCount > approversCount / 2;\n  return __jsx(Row, {\n    disabled: request.complete,\n    positive: readyToFinalize,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 3\n    }\n  }, __jsx(Cell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 4\n    }\n  }, id), __jsx(Cell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 4\n    }\n  }, request.description), __jsx(Cell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 4\n    }\n  }, web3.utils.fromWei(request.value, \"ether\")), __jsx(Cell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 4\n    }\n  }, request.recipient), __jsx(Cell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 4\n    }\n  }, request.approvalCount, \"/\", approversCount), __jsx(Cell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 4\n    }\n  }, request.complete ? null : __jsx(Button, {\n    color: \"green\",\n    basic: true,\n    onClick: onApprove,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 6\n    }\n  }, \"Approve\")), __jsx(Cell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }\n  }, request.complete ? null : __jsx(Button, {\n    color: \"teal\",\n    basic: true,\n    onClick: onFinalize,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 6\n    }\n  }, \"Finalize\")));\n};\n\nexport default RequestRow;","map":{"version":3,"sources":["/home/suveshmoza/Stuff/Projects/kickstart/components/RequestRow.js"],"names":["React","Table","Button","web3","Campaign","RequestRow","address","id","request","approversCount","Row","Cell","onApprove","campaign","accounts","eth","getAccounts","methods","approveRequest","send","from","onFinalize","finalizeRequest","readyToFinalize","approvalCount","complete","description","utils","fromWei","value","recipient"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,mBAA9B;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,QAAP,MAAqB,sBAArB;;AACA,MAAMC,UAAU,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA,EAAX;AAAeC,EAAAA,OAAf;AAAwBC,EAAAA;AAAxB,CAAD,KAA8C;AAChE,QAAM;AAAEC,IAAAA,GAAF;AAAOC,IAAAA;AAAP,MAAgBV,KAAtB;;AAEA,QAAMW,SAAS,GAAG,YAAY;AAC7B,UAAMC,QAAQ,GAAGT,QAAQ,CAACE,OAAD,CAAzB;AACA,UAAMQ,QAAQ,GAAG,MAAMX,IAAI,CAACY,GAAL,CAASC,WAAT,EAAvB;AACA,UAAMH,QAAQ,CAACI,OAAT,CAAiBC,cAAjB,CAAgCX,EAAhC,EAAoCY,IAApC,CAAyC;AAC9CC,MAAAA,IAAI,EAAEN,QAAQ,CAAC,CAAD;AADgC,KAAzC,CAAN;AAGA,GAND;;AAQA,QAAMO,UAAU,GAAG,YAAY;AAC9B,UAAMR,QAAQ,GAAGT,QAAQ,CAACE,OAAD,CAAzB;AACA,UAAMQ,QAAQ,GAAG,MAAMX,IAAI,CAACY,GAAL,CAASC,WAAT,EAAvB;AACA,UAAMH,QAAQ,CAACI,OAAT,CAAiBK,eAAjB,CAAiCf,EAAjC,EAAqCY,IAArC,CAA0C;AAC/CC,MAAAA,IAAI,EAAEN,QAAQ,CAAC,CAAD;AADiC,KAA1C,CAAN;AAGA,GAND;;AAQA,QAAMS,eAAe,GAAGf,OAAO,CAACgB,aAAR,GAAwBf,cAAc,GAAG,CAAjE;AAEA,SACC,MAAC,GAAD;AAAK,IAAA,QAAQ,EAAED,OAAO,CAACiB,QAAvB;AAAiC,IAAA,QAAQ,EAAEF,eAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOhB,EAAP,CADD,EAEC,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOC,OAAO,CAACkB,WAAf,CAFD,EAGC,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOvB,IAAI,CAACwB,KAAL,CAAWC,OAAX,CAAmBpB,OAAO,CAACqB,KAA3B,EAAkC,OAAlC,CAAP,CAHD,EAIC,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOrB,OAAO,CAACsB,SAAf,CAJD,EAKC,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEtB,OAAO,CAACgB,aADV,OAC0Bf,cAD1B,CALD,EAQC,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACED,OAAO,CAACiB,QAAR,GAAmB,IAAnB,GACA,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAsB,IAAA,KAAK,MAA3B;AAA4B,IAAA,OAAO,EAAEb,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,CARD,EAeC,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEJ,OAAO,CAACiB,QAAR,GAAmB,IAAnB,GACA,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,MAAd;AAAqB,IAAA,KAAK,MAA1B;AAA2B,IAAA,OAAO,EAAEJ,UAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CAfD,CADD;AAyBA,CA9CD;;AA+CA,eAAehB,UAAf","sourcesContent":["import React from \"react\";\nimport { Table, Button } from \"semantic-ui-react\";\nimport web3 from \"../ethereum/web3\";\nimport Campaign from \"../ethereum/campaign\";\nconst RequestRow = ({ address, id, request, approversCount }) => {\n\tconst { Row, Cell } = Table;\n\n\tconst onApprove = async () => {\n\t\tconst campaign = Campaign(address);\n\t\tconst accounts = await web3.eth.getAccounts();\n\t\tawait campaign.methods.approveRequest(id).send({\n\t\t\tfrom: accounts[0],\n\t\t});\n\t};\n\n\tconst onFinalize = async () => {\n\t\tconst campaign = Campaign(address);\n\t\tconst accounts = await web3.eth.getAccounts();\n\t\tawait campaign.methods.finalizeRequest(id).send({\n\t\t\tfrom: accounts[0],\n\t\t});\n\t};\n\n\tconst readyToFinalize = request.approvalCount > approversCount / 2;\n\n\treturn (\n\t\t<Row disabled={request.complete} positive={readyToFinalize}>\n\t\t\t<Cell>{id}</Cell>\n\t\t\t<Cell>{request.description}</Cell>\n\t\t\t<Cell>{web3.utils.fromWei(request.value, \"ether\")}</Cell>\n\t\t\t<Cell>{request.recipient}</Cell>\n\t\t\t<Cell>\n\t\t\t\t{request.approvalCount}/{approversCount}\n\t\t\t</Cell>\n\t\t\t<Cell>\n\t\t\t\t{request.complete ? null : (\n\t\t\t\t\t<Button color=\"green\" basic onClick={onApprove}>\n\t\t\t\t\t\tApprove\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</Cell>\n\t\t\t<Cell>\n\t\t\t\t{request.complete ? null : (\n\t\t\t\t\t<Button color=\"teal\" basic onClick={onFinalize}>\n\t\t\t\t\t\tFinalize\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</Cell>\n\t\t</Row>\n\t);\n};\nexport default RequestRow;\n"]},"metadata":{},"sourceType":"module"}